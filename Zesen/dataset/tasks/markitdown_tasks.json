{
  "tasks": [
    {
      "task_title": "Convert PDF to Markdown",
      "task_description": "将PDF文件转换为Markdown格式，输出到指定文件。",
      "example_code": null,
      "running_command": "markitdown path-to-file.pdf > document.md",
      "expected_input": "path-to-file.pdf",
      "expected_output": "document.md内容"
    },
    {
      "task_title": "Convert PDF to Markdown with Output Option",
      "task_description": "将PDF文件转换为Markdown格式，并指定输出文件名。",
      "example_code": null,
      "running_command": "markitdown path-to-file.pdf -o document.md",
      "expected_input": "path-to-file.pdf",
      "expected_output": "document.md内容"
    },
    {
      "task_title": "Convert PDF from Standard Input",
      "task_description": "从标准输入读取PDF文件并转换为Markdown格式。",
      "example_code": null,
      "running_command": "cat path-to-file.pdf | markitdown",
      "expected_input": "path-to-file.pdf",
      "expected_output": "Markdown内容"
    },
    {
      "task_title": "List Available Plugins",
      "task_description": "列出所有可用的插件。",
      "example_code": null,
      "running_command": "markitdown --list-plugins",
      "expected_input": null,
      "expected_output": "插件列表"
    },
    {
      "task_title": "Use Plugins for Conversion",
      "task_description": "使用插件将PDF文件转换为Markdown格式。",
      "example_code": null,
      "running_command": "markitdown --use-plugins path-to-file.pdf",
      "expected_input": "path-to-file.pdf",
      "expected_output": "Markdown内容"
    },
    {
      "task_title": "Convert PDF with Document Intelligence Endpoint",
      "task_description": "将PDF文件转换为Markdown格式，并使用指定的文档智能端点。",
      "example_code": null,
      "running_command": "markitdown path-to-file.pdf -o document.md -d -e \"<document_intelligence_endpoint>\"",
      "expected_input": "path-to-file.pdf, <document_intelligence_endpoint>",
      "expected_output": "document.md内容"
    },
    {
      "task_title": "Convert Excel File to Markdown",
      "task_description": "将Excel文件转换为Markdown格式，禁用插件。",
      "example_code": "from markitdown import MarkItDown\n\nmd = MarkItDown(enable_plugins=False)\nresult = md.convert(\"test.xlsx\")\nprint(result.text_content)",
      "running_command": null,
      "expected_input": "test.xlsx",
      "expected_output": "Markdown内容"
    },
    {
      "task_title": "Convert PDF with Document Intelligence Endpoint in Code",
      "task_description": "将PDF文件转换为Markdown格式，并使用指定的文档智能端点。",
      "example_code": "from markitdown import MarkItDown\n\nmd = MarkItDown(docintel_endpoint=\"<document_intelligence_endpoint>\")\nresult = md.convert(\"test.pdf\")\nprint(result.text_content)",
      "running_command": null,
      "expected_input": "test.pdf, <document_intelligence_endpoint>",
      "expected_output": "Markdown内容"
    },
    {
      "task_title": "Convert Image File to Markdown using OpenAI",
      "task_description": "将图像文件转换为Markdown格式，使用OpenAI的LLM。",
      "example_code": "from markitdown import MarkItDown\nfrom openai import OpenAI\n\nclient = OpenAI()\nmd = MarkItDown(llm_client=client, llm_model=\"gpt-4o\", llm_prompt=\"optional custom prompt\")\nresult = md.convert(\"example.jpg\")\nprint(result.text_content)",
      "running_command": null,
      "expected_input": "example.jpg",
      "expected_output": "Markdown内容"
    }
  ],
  "setup": {
    "setup_commands": [
      "python -m venv .venv\nsource .venv/bin/activate",
      "uv venv --python=3.12 .venv\nsource .venv/bin/activate\n# NOTE: Be sure to use 'uv pip install' rather than just 'pip install' to install packages in this virtual environment",
      "conda create -n markitdown python=3.12\nconda activate markitdown",
      "git clone git@github.com:microsoft/markitdown.git\ncd markitdown\npip install -e 'packages/markitdown[all]'",
      "pip install 'markitdown[pdf, docx, pptx]'",
      "  pip install hatch  # Other ways of installing hatch: https://hatch.pypa.io/dev/install/\n  hatch shell\n  hatch test"
    ],
    "docker_commands": [
      "docker build -t markitdown:latest .\ndocker run --rm -i markitdown:latest < ~/your-file.pdf > output.md"
    ],
    "docker_files": {
      "Dockerfile": "FROM python:3.13-slim-bullseye\n\nENV DEBIAN_FRONTEND=noninteractive\nENV EXIFTOOL_PATH=/usr/bin/exiftool\nENV FFMPEG_PATH=/usr/bin/ffmpeg\n\n# Runtime dependency\nRUN apt-get update && apt-get install -y --no-install-recommends \\\n    ffmpeg \\\n    exiftool\n\nARG INSTALL_GIT=false\nRUN if [ \"$INSTALL_GIT\" = \"true\" ]; then \\\n    apt-get install -y --no-install-recommends \\\n    git; \\\n    fi\n\n# Cleanup\nRUN rm -rf /var/lib/apt/lists/*\n\nWORKDIR /app\nCOPY . /app\nRUN pip --no-cache-dir install \\\n    /app/packages/markitdown[all] \\\n    /app/packages/markitdown-sample-plugin\n\n# Default USERID and GROUPID\nARG USERID=nobody\nARG GROUPID=nogroup\n\nUSER $USERID:$GROUPID\n\nENTRYPOINT [ \"markitdown\" ]\n",
      ".dockerignore": "*\n!packages/\n"
    },
    "docker_setup_descriptions": {
      "Dockerfile": "To build and run the Docker image for the Markitdown project from the Microsoft repository, follow these steps:\n\n### Building the Docker Image\n\n1. **Prepare Your Environment**: Ensure you have Docker installed and running on your machine.\n\n2. **Clone the Repository**: Download the `microsoft/markitdown` repository to your local machine. This repository contains the necessary files, including the Dockerfile.\n\n3. **Navigate to the Directory**: Open a terminal and change to the directory where the Dockerfile is located.\n\n4. **Build the Image**: Execute the Docker build command. This process will create an image named `markitdown:latest`. The image is based on a slim version of Python 3.13 and includes essential runtime dependencies such as `ffmpeg` and `exiftool`, which are used for processing multimedia files and metadata, respectively. The build process also installs the Markitdown package along with a sample plugin.\n\n### Running the Docker Container\n\n1. **Run the Container**: After successfully building the image, you can run it using the Docker run command. This command will execute the Markitdown tool, which converts PDF files into Markdown format.\n\n2. **Input and Output**: When running the container, you will need to specify the input PDF file (e.g., `~/your-file.pdf`) and redirect the output to a Markdown file (e.g., `output.md`). The container will process the PDF and generate the corresponding Markdown content.\n\n### Summary of the Image Purpose and Dependencies\n\nThe Docker image serves the purpose of providing a lightweight environment to convert PDF documents into Markdown format using the Markitdown tool. It includes:\n\n- **Python 3.13**: The programming language used for the Markitdown application.\n- **FFmpeg**: A multimedia framework for handling video, audio, and other multimedia files and streams.\n- **ExifTool**: A tool for reading, writing, and editing metadata in files.\n\nBy following these steps, you will be able to build and run the Markitdown Docker image effectively.",
      ".dockerignore": "To build and run the Docker image for the Microsoft Markitdown project, follow these steps:\n\n### Building the Docker Image\n\n1. **Setup Your Environment**: Ensure you have Docker installed on your machine. You can verify this by running `docker --version` in your terminal.\n\n2. **Clone the Repository**: Download the `microsoft/markitdown` repository to your local machine. This repository contains the necessary files for building the Docker image.\n\n3. **Create the .dockerignore File**: The `.dockerignore` file is crucial as it specifies which files and directories should be excluded from the Docker build context. In this case, it includes all files and directories except for the `packages/` directory. This helps to reduce the build context size and speeds up the build process by ignoring unnecessary files.\n\n4. **Build the Image**: Navigate to the root directory of the cloned repository where the Dockerfile is located. Use the Docker build command to create the image. The image is designed to convert Markdown files into PDF format, leveraging the dependencies specified in the Dockerfile. These dependencies typically include tools for processing Markdown and generating PDFs, ensuring that the image has everything needed to perform the conversion.\n\n5. **Tag the Image**: During the build process, tag the image as `markitdown:latest` to easily reference it later.\n\n### Running the Docker Image\n\n1. **Run the Container**: After successfully building the image, you can run it to convert a Markdown file to PDF. Use the Docker run command, which allows you to execute the container interactively. The command takes your Markdown file as input and outputs the converted content in Markdown format to a specified output file.\n\n2. **Input and Output**: Make sure to provide the path to your Markdown file when running the container. The output will be directed to a file named `output.md`, which will contain the converted content.\n\n### Summary\n\nThe Docker image built from the Microsoft Markitdown repository is designed to facilitate the conversion of Markdown documents into PDF format. It relies on specific dependencies that are included in the build process, ensuring that all necessary tools are available within the container. By following the outlined steps, you can efficiently build and run the Docker image to convert your Markdown files."
    }
  },
  "input_to_gpt": {
    "repo_name": "microsoft/markitdown",
    "num_code_blocks": 11,
    "total_length": 978,
    "code_blocks": [
      "markitdown path-to-file.pdf > document.md",
      "markitdown path-to-file.pdf -o document.md",
      "cat path-to-file.pdf | markitdown",
      "markitdown --list-plugins",
      "markitdown --use-plugins path-to-file.pdf",
      "markitdown path-to-file.pdf -o document.md -d -e \"<document_intelligence_endpoint>\"",
      "from markitdown import MarkItDown\n\nmd = MarkItDown(enable_plugins=False) # Set to True to enable plugins\nresult = md.convert(\"test.xlsx\")\nprint(result.text_content)",
      "from markitdown import MarkItDown\n\nmd = MarkItDown(docintel_endpoint=\"<document_intelligence_endpoint>\")\nresult = md.convert(\"test.pdf\")\nprint(result.text_content)",
      "from markitdown import MarkItDown\nfrom openai import OpenAI\n\nclient = OpenAI()\nmd = MarkItDown(llm_client=client, llm_model=\"gpt-4o\", llm_prompt=\"optional custom prompt\")\nresult = md.convert(\"example.jpg\")\nprint(result.text_content)",
      "  cd packages/markitdown",
      "  # Reopen the project in Devcontainer and run:\n  hatch test"
    ]
  }
}