{
  "repo": {
    "full_name": "localstack/localstack",
    "stars": 61022,
    "forks": 4279,
    "language": "Python",
    "description": "ðŸ’» A fully functional local AWS cloud stack. Develop and test your cloud & Serverless apps offline",
    "topics": [
      "aws",
      "cloud",
      "continuous-integration",
      "developer-tools",
      "localstack",
      "python",
      "testing"
    ],
    "url": "https://github.com/localstack/localstack",
    "created_at": "2016-10-25T23:48:03Z",
    "updated_at": "2025-10-30T23:17:13Z"
  },
  "readme_file": "dataset/readmes/localstack_README.md",
  "task_file": "dataset/tasks/localstack_tasks.json",
  "num_tasks": 3,
  "num_setup_commands": 2,
  "num_docker_commands": 0,
  "has_docker_files": true,
  "docker_files_list": [
    "Dockerfile",
    "docker-compose.yml",
    ".dockerignore"
  ],
  "docker_setup_descriptions": {
    "Dockerfile": "### Building and Running Docker for LocalStack\n\nTo build and run a Docker container using the provided `Dockerfile` from the `localstack/localstack` repository, follow these steps:\n\n#### 1. **Understanding the Dockerfile**\n\nThe `Dockerfile` is structured into multiple stages to optimize the build process:\n\n- **Base Stage**: \n  - Uses a slim version of Python 3.13.9 as the foundation.\n  - Installs essential OS packages and runtime dependencies, including `nodejs` and `awscli`.\n  - Sets up the working directory and creates a user (`localstack`) with appropriate permissions.\n\n- **Builder Stage**: \n  - Installs build tools and Python dependencies required for LocalStack.\n  - Copies necessary files and scripts for building the runtime environment.\n\n- **Final Stage**: \n  - Combines the base and builder stages, copying over the built environment and LocalStack code.\n  - Installs LocalStack and generates required files for operation.\n  - Exposes necessary ports and sets health checks for the container.\n\n#### 2. **Building the Docker Image**\n\nTo build the Docker image, navigate to the directory containing the `Dockerfile` and run the following command:\n\n```bash\ndocker build -t localstack:latest .\n```\n\nThis command will create a Docker image tagged as `localstack:latest`.\n\n#### 3. **Running the Docker Container**\n\nOnce the image is built, you can run the LocalStack container using the following command:\n\n```bash\ndocker run -d --name localstack -p 4566:4566 -p 4510-4559:4510-4559 localstack:latest\n```\n\n- `-d`: Runs the container in detached mode.\n- `--name localstack`: Names the container \"localstack\".\n- `-p 4566:4566`: Maps the default LocalStack port.\n- `-p 4510-4559:4510-4559`: Maps additional service ports.\n\n#### 4. **Verifying the Setup**\n\nTo verify that LocalStack is running correctly, you can check the logs:\n\n```bash\ndocker logs localstack\n```\n\nAdditionally, you can check the health status of the LocalStack services:\n\n```bash\ndocker exec localstack localstack status services\n```\n\nThis command should return the status of the LocalStack services, confirming that everything is functioning as expected.\n\n### Conclusion\n\nBy following these steps, you will successfully build and run a Docker container for LocalStack using the provided `Dockerfile`. Ensure you have Docker installed and running on your machine before executing these commands.",
    "docker-compose.yml": "### Building and Running LocalStack with Docker Compose\n\nTo build and run LocalStack using the provided `docker-compose.yml` file from the `localstack/localstack` repository, follow these steps:\n\n1. **Prerequisites**:\n   - Ensure you have Docker and Docker Compose installed on your machine.\n\n2. **Understanding the `docker-compose.yml` File**:\n   - **services**: Defines the services that will run in containers.\n     - **localstack**: The main service for LocalStack.\n       - **container_name**: Sets the name of the container. It can be overridden by the environment variable `LOCALSTACK_DOCKER_NAME`.\n       - **image**: Specifies the Docker image to use, which is `localstack/localstack`.\n       - **ports**: Maps host ports to container ports:\n         - `4566`: LocalStack Gateway (main entry point for AWS services).\n         - `4510-4559`: A range for various external services provided by LocalStack.\n       - **environment**: Configures environment variables for the container:\n         - `DEBUG`: Controls debug logging; defaults to `0` if not set.\n       - **volumes**: Mounts directories into the container:\n         - `${LOCALSTACK_VOLUME_DIR}`: A directory on the host mapped to `/var/lib/localstack` in the container for persistent storage.\n         - `/var/run/docker.sock`: Allows LocalStack to manage Docker containers.\n\n3. **Running LocalStack**:\n   - Navigate to the directory containing the `docker-compose.yml` file.\n   - Run the following command to start LocalStack:\n     ```bash\n     docker-compose up\n     ```\n   - To run it in detached mode (in the background), use:\n     ```bash\n     docker-compose up -d\n     ```\n\n4. **Stopping LocalStack**:\n   - To stop the running LocalStack service, execute:\n     ```bash\n     docker-compose down\n     ```\n\n### Additional Commands\n- **Viewing Logs**: To view logs from the LocalStack container, use:\n  ```bash\n  docker-compose logs -f\n  ```\n\n- **Accessing the LocalStack CLI**: You can execute commands within the LocalStack container using:\n  ```bash\n  docker-compose exec localstack awslocal <command>\n  ```\n\nThis setup allows you to run LocalStack locally, simulating AWS services for development and testing purposes. Adjust the environment variables as needed to customize your LocalStack instance.",
    ".dockerignore": "### Building and Running Docker with `.dockerignore` in LocalStack\n\n#### Overview of `.dockerignore`\n\nThe `.dockerignore` file is used to specify files and directories that should be excluded from the Docker build context. This helps to reduce the size of the context sent to the Docker daemon, speeding up the build process and minimizing unnecessary files in the final image.\n\n#### Semantic Meaning of the Entries\n\n1. **`.venv*`**: Ignores any virtual environment directories, which are not needed in the Docker image.\n2. **`.filesystem` and `**/.filesystem`**: Excludes filesystem-related files, likely used for local development or testing.\n3. **`tests/aws/**/node_modules`**: Ignores Node.js dependencies in the test directories, preventing unnecessary bloat.\n4. **`tests/aws/**/.terraform`**: Excludes Terraform-related files generated during infrastructure provisioning.\n5. **`**/__pycache__`**: Ignores Python bytecode cache directories, which are not required in the image.\n6. **`target/`**: Excludes build artifacts, typically from Java projects, that are not needed in the final image.\n7. **`htmlcov/`**: Ignores coverage reports generated by testing, which are not necessary for the runtime.\n8. **`.coverage`**: Excludes the coverage data file, similar to `htmlcov/`, to keep the image clean.\n\n#### Steps to Build and Run Docker\n\n1. **Clone the Repository**:\n   ```bash\n   git clone https://github.com/localstack/localstack.git\n   cd localstack\n   ```\n\n2. **Build the Docker Image**:\n   Use the following command to build the Docker image, which will automatically respect the `.dockerignore` file:\n   ```bash\n   docker build -t localstack .\n   ```\n\n3. **Run the Docker Container**:\n   Start the LocalStack container using:\n   ```bash\n   docker run -d -p 4566:4566 -p 4510-4559:4510-4559 localstack\n   ```\n\n#### Related README Docker Commands\n\nRefer to the LocalStack README for additional Docker commands and configurations specific to your use case. Common commands include:\n\n- **Starting LocalStack**:\n  ```bash\n  docker-compose up\n  ```\n\n- **Stopping LocalStack**:\n  ```bash\n  docker-compose down\n  ```\n\nBy following these steps and understanding the purpose of the `.dockerignore` file, you can efficiently build and run LocalStack in a Docker environment."
  },
  "processed_at": "2025-10-30T20:42:09.569344"
}