{
  "tasks": [
    {
      "task_title": "初始化配置",
      "task_description": "创建MetaGPT的初始配置文件，以便用户可以根据需要进行修改。",
      "example_code": null,
      "running_command": "metagpt --init-config",
      "expected_input": null,
      "expected_output": "创建了~/.metagpt/config2.yaml文件"
    }
  ],
  "setup": {
    "setup_commands": [
      "pip install --upgrade metagpt\n# or `pip install --upgrade git+https://github.com/geekan/MetaGPT.git`\n# or `git clone https://github.com/geekan/MetaGPT && cd MetaGPT && pip install --upgrade -e .`"
    ],
    "docker_commands": [],
    "docker_files": {
      "Dockerfile": "# Use a base image with Python3.9 and Nodejs20 slim version\nFROM nikolaik/python-nodejs:python3.9-nodejs20-slim\n\n# Install Debian software needed by MetaGPT and clean up in one RUN command to reduce image size\nRUN apt update &&\\\n    apt install -y libgomp1 git chromium fonts-ipafont-gothic fonts-wqy-zenhei fonts-thai-tlwg fonts-kacst fonts-freefont-ttf libxss1 --no-install-recommends file &&\\\n    apt clean && rm -rf /var/lib/apt/lists/*\n\n# Install Mermaid CLI globally\nENV CHROME_BIN=\"/usr/bin/chromium\" \\\n    puppeteer_config=\"/app/metagpt/config/puppeteer-config.json\"\\\n    PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=\"true\"\nRUN npm install -g @mermaid-js/mermaid-cli &&\\\n    npm cache clean --force\n\n# Install Python dependencies and install MetaGPT\nCOPY . /app/metagpt\nWORKDIR /app/metagpt\nRUN mkdir workspace &&\\\n    pip install --no-cache-dir -r requirements.txt &&\\\n    pip install -e .\n\n# Running with an infinite loop using the tail command\nCMD [\"sh\", \"-c\", \"tail -f /dev/null\"]\n\n",
      ".dockerignore": "workspace\ntmp\nbuild\ndist\ndata\ngeckodriver.log\n"
    },
    "docker_setup_descriptions": {
      "Dockerfile": "### Building and Running Docker for FoundationAgents/MetaGPT\n\nTo build and run a Docker container using the provided `Dockerfile` from the FoundationAgents/MetaGPT repository, follow these steps:\n\n#### 1. **Understanding the Dockerfile**\n\n- **Base Image**: The Dockerfile starts with a base image `nikolaik/python-nodejs:python3.9-nodejs20-slim`, which includes both Python 3.9 and Node.js 20 in a lightweight Debian environment.\n  \n- **System Dependencies**: It installs essential Debian packages required by MetaGPT, including libraries for running Chromium and fonts for rendering. This is done in a single `RUN` command to minimize the image size by cleaning up unnecessary files afterward.\n\n- **Global Installation of Mermaid CLI**: The Dockerfile sets environment variables for Chromium and Puppeteer configuration, then installs the Mermaid CLI globally using npm, which is a tool for generating diagrams from text.\n\n- **Application Setup**: The application code is copied into the container, and the working directory is set to `/app/metagpt`. It creates a `workspace` directory and installs Python dependencies listed in `requirements.txt`, as well as the MetaGPT package itself.\n\n- **Container Execution**: The container is configured to run indefinitely using `tail -f /dev/null`, which keeps the container alive for further interaction or processes.\n\n#### 2. **Building the Docker Image**\n\nOpen your terminal and navigate to the directory containing the `Dockerfile`. Run the following command to build the Docker image:\n\n```bash\ndocker build -t metagpt .\n```\n\n- `-t metagpt`: Tags the image with the name `metagpt`.\n- `.`: Indicates that the Dockerfile is in the current directory.\n\n#### 3. **Running the Docker Container**\n\nOnce the image is built, you can run a container using the following command:\n\n```bash\ndocker run -d --name metagpt_container metagpt\n```\n\n- `-d`: Runs the container in detached mode.\n- `--name metagpt_container`: Assigns a name to the running container for easier management.\n\n#### 4. **Verifying the Container is Running**\n\nTo check if your container is running, use:\n\n```bash\ndocker ps\n```\n\nThis command lists all running containers. You should see `metagpt_container` in the list.\n\n#### 5. **Accessing the Container**\n\nIf you need to access the container's shell, you can execute:\n\n```bash\ndocker exec -it metagpt_container /bin/sh\n```\n\nThis allows you to interact with the container directly.\n\n### Summary\n\nBy following these steps, you can successfully build and run the Docker container for the MetaGPT application, ensuring all necessary dependencies and configurations are in place for optimal performance.",
      ".dockerignore": "### Building and Running Docker with `.dockerignore` in FoundationAgents/MetaGPT\n\n#### Overview of `.dockerignore`\n\nThe `.dockerignore` file is used to specify files and directories that should be excluded from the Docker build context. This helps to reduce the size of the context sent to the Docker daemon, improving build performance and security by preventing unnecessary files from being included in the image.\n\n#### Semantic Meaning of the Entries\n\n- **workspace**: Excludes the workspace directory, which may contain local development files that are not needed in the Docker image.\n- **tmp**: Excludes temporary files that could clutter the image and are not required for the application to run.\n- **build**: Excludes build artifacts that are generated during the build process and should not be included in the final image.\n- **dist**: Excludes distribution files that are not necessary for the Docker image, keeping it lightweight.\n- **data**: Excludes data files that may be large or sensitive and are not needed in the image.\n- **geckodriver.log**: Excludes log files generated by geckodriver, which are not relevant for the application runtime.\n\n#### Building and Running Docker\n\n1. **Clone the Repository**:\n   ```bash\n   git clone https://github.com/FoundationAgents/MetaGPT.git\n   cd MetaGPT\n   ```\n\n2. **Build the Docker Image**:\n   Use the following command to build the Docker image. Replace `your-image-name` with your desired image name.\n   ```bash\n   docker build -t your-image-name .\n   ```\n\n3. **Run the Docker Container**:\n   After building the image, run the container using:\n   ```bash\n   docker run -d --name your-container-name your-image-name\n   ```\n\n4. **Verify the Running Container**:\n   Check if the container is running:\n   ```bash\n   docker ps\n   ```\n\n#### Note\nEnsure that the Docker daemon is running on your machine before executing these commands. Adjust any additional parameters as necessary based on your application’s requirements."
    }
  },
  "input_to_gpt": {
    "repo_name": "FoundationAgents/MetaGPT",
    "num_code_blocks": 1,
    "total_length": 190,
    "code_blocks": [
      "# Check https://docs.deepwisdom.ai/main/en/guide/get_started/configuration.html for more details\nmetagpt --init-config  # it will create ~/.metagpt/config2.yaml, just modify it to your needs"
    ]
  }
}