{
  "tasks": [
    {
      "task_title": "Convert Document from URL",
      "task_description": "This task converts a document from a specified URL to a different format using the DocumentConverter class.",
      "example_code": "from docling.document_converter import DocumentConverter\n\nsource = \"https://arxiv.org/pdf/2408.09869\"  # document per local path or URL\nconverter = DocumentConverter()\nresult = converter.convert(source)\nprint(result.document.export_to_markdown())  # output: \"## Docling Technical Report[...]\"",
      "running_command": null,
      "expected_input": "https://arxiv.org/pdf/2408.09869",
      "expected_output": "## Docling Technical Report[...]"
    },
    {
      "task_title": "Convert Document using CLI",
      "task_description": "This task converts a document from a specified URL using the docling command line interface.",
      "example_code": null,
      "running_command": "docling https://arxiv.org/pdf/2206.01062",
      "expected_input": "https://arxiv.org/pdf/2206.01062",
      "expected_output": "Conversion result output"
    },
    {
      "task_title": "Convert Document with Specific Pipeline and Model",
      "task_description": "This task converts a document using a specific pipeline and VLM model specified in the command line.",
      "example_code": null,
      "running_command": "docling --pipeline vlm --vlm-model granite_docling https://arxiv.org/pdf/2206.01062",
      "expected_input": "https://arxiv.org/pdf/2206.01062",
      "expected_output": "Conversion result output with specified pipeline"
    }
  ],
  "setup": {
    "setup_commands": [
      "pip install docling"
    ],
    "docker_commands": [],
    "docker_files": {
      "Dockerfile": "FROM python:3.11-slim-bookworm\n\nENV GIT_SSH_COMMAND=\"ssh -o StrictHostKeyChecking=no\"\n\nRUN apt-get update \\\n    && apt-get install -y libgl1 libglib2.0-0 curl wget git procps \\\n    && rm -rf /var/lib/apt/lists/*\n\n# This will install torch with *only* cpu support\n# Remove the --extra-index-url part if you want to install all the gpu requirements\n# For more details in the different torch distribution visit https://pytorch.org/.\nRUN pip install --no-cache-dir docling --extra-index-url https://download.pytorch.org/whl/cpu\n\nENV HF_HOME=/tmp/\nENV TORCH_HOME=/tmp/\n\nCOPY docs/examples/minimal.py /root/minimal.py\n\nRUN docling-tools models download\n\n# On container environments, always set a thread budget to avoid undesired thread congestion.\nENV OMP_NUM_THREADS=4\n\n# On container shell:\n# > cd /root/\n# > python minimal.py\n\n# Running as `docker run -e DOCLING_ARTIFACTS_PATH=/root/.cache/docling/models` will use the\n# model weights included in the container image.\n"
    },
    "docker_setup_descriptions": {
      "Dockerfile": "To build and run the Docker image for the `docling-project/docling` repository, follow these steps:\n\n### Purpose of the Image\nThe Docker image is designed to provide a lightweight environment for running the Docling tool, which is used for managing and processing documentation. This image is based on Python 3.11 and includes essential libraries and dependencies required for running Docling and its associated models.\n\n### Building the Image\n1. **Base Image**: The build process starts with a slim version of Python 3.11, ensuring a minimal footprint while providing the necessary Python environment.\n2. **Environment Configuration**: An environment variable is set to configure SSH for Git operations, allowing for seamless access to repositories without strict host key checking.\n3. **Dependency Installation**: The image installs several system dependencies, including libraries for graphics processing and essential tools like `curl`, `wget`, and `git`. This ensures that the environment can handle various tasks required by Docling.\n4. **Python Package Installation**: The Docling package is installed via pip, specifically configured to use CPU support for PyTorch. This is suitable for environments where GPU resources are not available.\n5. **Model Preparation**: The image includes a step to download necessary model weights using Docling tools, ensuring that the required resources are available for processing.\n6. **Thread Management**: An environment variable is set to limit the number of threads used by the application, preventing potential performance issues in containerized environments.\n\n### Built Image\nThe resulting Docker image is optimized for running Docling with CPU support, equipped with all necessary dependencies and pre-downloaded models. It is ready for immediate use in processing documentation tasks.\n\n### Running the Image\nTo run the Docker container:\n- Use the command to start the container, setting the `DOCLING_ARTIFACTS_PATH` environment variable to specify where to store model weights. This allows the container to utilize the pre-downloaded models effectively.\n- Once inside the container, navigate to the appropriate directory and execute the provided Python script (`minimal.py`) to start using Docling.\n\nThis setup provides a streamlined and efficient way to leverage Docling's capabilities within a Dockerized environment."
    }
  },
  "input_to_gpt": {
    "repo_name": "docling-project/docling",
    "num_code_blocks": 3,
    "total_length": 429,
    "code_blocks": [
      "from docling.document_converter import DocumentConverter\n\nsource = \"https://arxiv.org/pdf/2408.09869\"  # document per local path or URL\nconverter = DocumentConverter()\nresult = converter.convert(source)\nprint(result.document.export_to_markdown())  # output: \"## Docling Technical Report[...]\"",
      "docling https://arxiv.org/pdf/2206.01062",
      "docling --pipeline vlm --vlm-model granite_docling https://arxiv.org/pdf/2206.01062"
    ]
  }
}