{
  "tasks": [
    {
      "task_title": "Initialize the browser-use project",
      "task_description": "Initialize a new project for browser-use with the default template.",
      "example_code": null,
      "running_command": "uvx browser-use init --template default",
      "expected_input": null,
      "expected_output": null
    },
    {
      "task_title": "Initialize the browser-use project with custom output",
      "task_description": "Initialize a new project for browser-use with the default template and specify the output file name.",
      "example_code": null,
      "running_command": "uvx browser-use init --template default --output my_agent.py",
      "expected_input": null,
      "expected_output": null
    },
    {
      "task_title": "Add browser-use dependency",
      "task_description": "Add the browser-use library to the project.",
      "example_code": null,
      "running_command": "uv add browser-use",
      "expected_input": null,
      "expected_output": null
    },
    {
      "task_title": "Synchronize project dependencies",
      "task_description": "Synchronize the project dependencies to ensure everything is up to date.",
      "example_code": null,
      "running_command": "uv sync",
      "expected_input": null,
      "expected_output": null
    },
    {
      "task_title": "Install the browser-use library",
      "task_description": "Install the browser-use library using the uvx command.",
      "example_code": null,
      "running_command": "uvx browser-use install",
      "expected_input": null,
      "expected_output": null
    },
    {
      "task_title": "Find the number of stars of a GitHub repository",
      "task_description": "Use the Agent class to find the number of stars of the browser-use repository utilizing a ChatBrowserUse instance.",
      "example_code": "from browser_use import Agent, Browser, ChatBrowserUse\nimport asyncio\n\nasync def example():\n    browser = Browser()\n    llm = ChatBrowserUse()\n    agent = Agent(\n        task=\"Find the number of stars of the browser-use repo\",\n        llm=llm,\n        browser=browser,\n    )\n    history = await agent.run()\n    return history\n\nif __name__ == \"__main__\":\n    history = asyncio.run(example())",
      "running_command": null,
      "expected_input": null,
      "expected_output": "History object containing the number of stars"
    },
    {
      "task_title": "Create a custom tool",
      "task_description": "Define a custom tool using the Tool decorator and use it in the Agent.",
      "example_code": "@Tool()\ndef custom_tool(param: str) -> str:\n    \"\"\"Description of what this tool does.\"\"\"\n    return f\"Result: {param}\"\n\nagent = Agent(\n    task=\"Your task\",\n    llm=llm,\n    browser=browser,\n    use_custom_tools=[custom_tool],\n)",
      "running_command": null,
      "expected_input": "any string parameter for custom_tool",
      "expected_output": "Result: {input string}"
    }
  ],
  "setup": {
    "setup_commands": [],
    "docker_commands": [],
    "docker_files": {
      "Dockerfile": "# syntax=docker/dockerfile:1\n# check=skip=SecretsUsedInArgOrEnv\n\n# This is the Dockerfile for browser-use, it bundles the following dependencies:\n#     python3, pip, playwright, chromium, browser-use and its dependencies.\n# Usage:\n#     git clone https://github.com/browser-use/browser-use.git && cd browser-use\n#     docker build . -t browseruse --no-cache\n#     docker run -v \"$PWD/data\":/data browseruse\n#     docker run -v \"$PWD/data\":/data browseruse --version\n# Multi-arch build:\n#     docker buildx create --use\n#     docker buildx build . --platform=linux/amd64,linux/arm64--push -t browseruse/browseruse:some-tag\n#\n# Read more: https://docs.browser-use.com\n\n#########################################################################################\n\n\nFROM python:3.12-slim\n\nLABEL name=\"browseruse\" \\\n    maintainer=\"Nick Sweeting <dockerfile@browser-use.com>\" \\\n    description=\"Make websites accessible for AI agents. Automate tasks online with ease.\" \\\n    homepage=\"https://github.com/browser-use/browser-use\" \\\n    documentation=\"https://docs.browser-use.com\" \\\n    org.opencontainers.image.title=\"browseruse\" \\\n    org.opencontainers.image.vendor=\"browseruse\" \\\n    org.opencontainers.image.description=\"Make websites accessible for AI agents. Automate tasks online with ease.\" \\\n    org.opencontainers.image.source=\"https://github.com/browser-use/browser-use\" \\\n    com.docker.image.source.entrypoint=\"Dockerfile\" \\\n    com.docker.desktop.extension.api.version=\">= 1.4.7\" \\\n    com.docker.desktop.extension.icon=\"https://avatars.githubusercontent.com/u/192012301?s=200&v=4\" \\\n    com.docker.extension.publisher-url=\"https://browser-use.com\" \\\n    com.docker.extension.screenshots='[{\"alt\": \"Screenshot of CLI splashscreen\", \"url\": \"https://github.com/user-attachments/assets/3606d851-deb1-439e-ad90-774e7960ded8\"}, {\"alt\": \"Screenshot of CLI running\", \"url\": \"https://github.com/user-attachments/assets/d018b115-95a4-4ac5-8259-b750bc5f56ad\"}]' \\\n    com.docker.extension.detailed-description='See here for detailed documentation: https://docs.browser-use.com' \\\n    com.docker.extension.changelog='See here for release notes: https://github.com/browser-use/browser-use/releases' \\\n    com.docker.extension.categories='web,utility-tools,ai'\n\nARG TARGETPLATFORM\nARG TARGETOS\nARG TARGETARCH\nARG TARGETVARIANT\n\n######### Environment Variables #################################\n\n# Global system-level config\nENV TZ=UTC \\\n    LANGUAGE=en_US:en \\\n    LC_ALL=C.UTF-8 \\\n    LANG=C.UTF-8 \\\n    DEBIAN_FRONTEND=noninteractive \\\n    APT_KEY_DONT_WARN_ON_DANGEROUS_USAGE=1 \\\n    PYTHONIOENCODING=UTF-8 \\\n    PYTHONUNBUFFERED=1 \\\n    PIP_DISABLE_PIP_VERSION_CHECK=1 \\\n    UV_CACHE_DIR=/root/.cache/uv \\\n    UV_LINK_MODE=copy \\\n    UV_COMPILE_BYTECODE=1 \\\n    UV_PYTHON_PREFERENCE=only-system \\\n    npm_config_loglevel=error \\\n    IN_DOCKER=True\n\n# User config\nENV BROWSERUSE_USER=\"browseruse\" \\\n    DEFAULT_PUID=911 \\\n    DEFAULT_PGID=911\n\n# Paths\nENV CODE_DIR=/app \\\n    DATA_DIR=/data \\\n    VENV_DIR=/app/.venv \\\n    PATH=\"/app/.venv/bin:$PATH\"\n\n# Build shell config\nSHELL [\"/bin/bash\", \"-o\", \"pipefail\", \"-o\", \"errexit\", \"-o\", \"errtrace\", \"-o\", \"nounset\", \"-c\"] \n\n# Force apt to leave downloaded binaries in /var/cache/apt (massively speeds up Docker builds)\nRUN echo 'Binary::apt::APT::Keep-Downloaded-Packages \"1\";' > /etc/apt/apt.conf.d/99keep-cache \\\n    && echo 'APT::Install-Recommends \"0\";' > /etc/apt/apt.conf.d/99no-intall-recommends \\\n    && echo 'APT::Install-Suggests \"0\";' > /etc/apt/apt.conf.d/99no-intall-suggests \\\n    && rm -f /etc/apt/apt.conf.d/docker-clean\n\n# Print debug info about build and save it to disk, for human eyes only, not used by anything else\nRUN (echo \"[i] Docker build for Browser Use $(cat /VERSION.txt) starting...\" \\\n    && echo \"PLATFORM=${TARGETPLATFORM} ARCH=$(uname -m) ($(uname -s) ${TARGETARCH} ${TARGETVARIANT})\" \\\n    && echo \"BUILD_START_TIME=$(date +\"%Y-%m-%d %H:%M:%S %s\") TZ=${TZ} LANG=${LANG}\" \\\n    && echo \\\n    && echo \"CODE_DIR=${CODE_DIR} DATA_DIR=${DATA_DIR} PATH=${PATH}\" \\\n    && echo \\\n    && uname -a \\\n    && cat /etc/os-release | head -n7 \\\n    && which bash && bash --version | head -n1 \\\n    && which dpkg && dpkg --version | head -n1 \\\n    && echo -e '\\n\\n' && env && echo -e '\\n\\n' \\\n    && which python && python --version \\\n    && which pip && pip --version \\\n    && echo -e '\\n\\n' \\\n    ) | tee -a /VERSION.txt\n\n# Create non-privileged user for browseruse and chrome\nRUN echo \"[*] Setting up $BROWSERUSE_USER user uid=${DEFAULT_PUID}...\" \\\n    && groupadd --system $BROWSERUSE_USER \\\n    && useradd --system --create-home --gid $BROWSERUSE_USER --groups audio,video $BROWSERUSE_USER \\\n    && usermod -u \"$DEFAULT_PUID\" \"$BROWSERUSE_USER\" \\\n    && groupmod -g \"$DEFAULT_PGID\" \"$BROWSERUSE_USER\" \\\n    && mkdir -p /data \\\n    && mkdir -p /home/$BROWSERUSE_USER/.config \\\n    && chown -R $BROWSERUSE_USER:$BROWSERUSE_USER /home/$BROWSERUSE_USER \\\n    && ln -s $DATA_DIR /home/$BROWSERUSE_USER/.config/browseruse \\\n    && echo -e \"\\nBROWSERUSE_USER=$BROWSERUSE_USER PUID=$(id -u $BROWSERUSE_USER) PGID=$(id -g $BROWSERUSE_USER)\\n\\n\" \\\n    | tee -a /VERSION.txt\n    # DEFAULT_PUID and DEFAULT_PID are overridden by PUID and PGID in /bin/docker_entrypoint.sh at runtime\n    # https://docs.linuxserver.io/general/understanding-puid-and-pgid\n\n# Install base apt dependencies (adding backports to access more recent apt updates)\nRUN --mount=type=cache,target=/var/cache/apt,sharing=locked,id=apt-$TARGETARCH$TARGETVARIANT \\\n    echo \"[+] Installing APT base system dependencies for $TARGETPLATFORM...\" \\\n#     && echo 'deb https://deb.debian.org/debian bookworm-backports main contrib non-free' > /etc/apt/sources.list.d/backports.list \\\n    && mkdir -p /etc/apt/keyrings \\\n    && apt-get update -qq \\\n    && apt-get install -qq -y --no-install-recommends \\\n        # 1. packaging dependencies\n        apt-transport-https ca-certificates apt-utils gnupg2 unzip curl wget grep \\\n        # 2. docker and init system dependencies:\n        # dumb-init gosu cron zlib1g-dev \\\n        # 3. frivolous CLI helpers to make debugging failed archiving easierL\n        nano iputils-ping dnsutils jq \\\n        # tree yq procps \\\n        # 4. browser dependencies: (auto-installed by playwright install --with-deps chromium)\n     #    libnss3 libxss1 libasound2 libx11-xcb1 \\\n     #    fontconfig fonts-ipafont-gothic fonts-wqy-zenhei fonts-thai-tlwg fonts-khmeros fonts-kacst fonts-symbola fonts-noto fonts-freefont-ttf \\\n     #    at-spi2-common fonts-liberation fonts-noto-color-emoji fonts-tlwg-loma-otf fonts-unifont libatk-bridge2.0-0 libatk1.0-0 libatspi2.0-0 libavahi-client3 \\\n     #    libavahi-common-data libavahi-common3 libcups2 libfontenc1 libice6 libnspr4 libnss3 libsm6 libunwind8 \\\n     #    libxaw7 libxcomposite1 libxdamage1 libxfont2 \\\n     #    # 5. x11/xvfb dependencies:\n     #    libxkbfile1 libxmu6 libxpm4 libxt6 x11-xkb-utils x11-utils xfonts-encodings \\\n     #    xfonts-scalable xfonts-utils xserver-common xvfb \\\n     && rm -rf /var/lib/apt/lists/*\n\nCOPY --from=ghcr.io/astral-sh/uv:latest /uv /uvx /bin/\n\n# Copy only dependency manifest\nWORKDIR /app\nCOPY pyproject.toml uv.lock* /app/\n\nRUN --mount=type=cache,target=/root/.cache,sharing=locked,id=cache-$TARGETARCH$TARGETVARIANT \\\n    echo \"[+] Setting up venv using uv in $VENV_DIR...\" \\\n    && ( \\\n     which uv && uv --version \\\n     && uv venv \\\n     && which python | grep \"$VENV_DIR\" \\\n     && python --version \\\n    ) | tee -a /VERSION.txt\n\n# Install Chromium browser directly from system packages\nRUN --mount=type=cache,target=/var/cache/apt,sharing=locked,id=apt-$TARGETARCH$TARGETVARIANT \\\n    echo \"[+] Installing chromium browser from system packages...\" \\\n    && apt-get update -qq \\\n    && apt-get install -y --no-install-recommends \\\n        chromium \\\n        fonts-unifont \\\n        fonts-liberation \\\n        fonts-dejavu-core \\\n        fonts-freefont-ttf \\\n        fonts-noto-core \\\n    && rm -rf /var/lib/apt/lists/* \\\n    && ln -s /usr/bin/chromium /usr/bin/chromium-browser \\\n    && ln -s /usr/bin/chromium /app/chromium-browser \\\n    && mkdir -p \"/home/${BROWSERUSE_USER}/.config/chromium/Crash Reports/pending/\" \\\n    && chown -R \"$BROWSERUSE_USER:$BROWSERUSE_USER\" \"/home/${BROWSERUSE_USER}/.config\" \\\n    && ( \\\n        which chromium-browser && /usr/bin/chromium-browser --version \\\n        && echo -e '\\n\\n' \\\n    ) | tee -a /VERSION.txt\n\nRUN --mount=type=cache,target=/root/.cache,sharing=locked,id=cache-$TARGETARCH$TARGETVARIANT \\\n     echo \"[+] Installing browser-use pip sub-dependencies...\" \\\n     && ( \\\n        uv sync --all-extras --no-dev --no-install-project \\\n        && echo -e '\\n\\n' \\\n     ) | tee -a /VERSION.txt\n\n# Copy the rest of the browser-use codebase\nCOPY . /app\n\n# Install the browser-use package and all of its optional dependencies\nRUN --mount=type=cache,target=/root/.cache,sharing=locked,id=cache-$TARGETARCH$TARGETVARIANT \\\n     echo \"[+] Installing browser-use pip library from source...\" \\\n     && ( \\\n        uv sync --all-extras --locked --no-dev \\\n        && python -c \"import browser_use; print('browser-use installed successfully')\" \\\n        && echo -e '\\n\\n' \\\n     ) | tee -a /VERSION.txt\n\nRUN mkdir -p \"$DATA_DIR/profiles/default\" \\\n    && chown -R $BROWSERUSE_USER:$BROWSERUSE_USER \"$DATA_DIR\" \"$DATA_DIR\"/* \\\n    && ( \\\n        echo -e \"\\n\\n[âˆš] Finished Docker build successfully. Saving build summary in: /VERSION.txt\" \\\n        && echo -e \"PLATFORM=${TARGETPLATFORM} ARCH=$(uname -m) ($(uname -s) ${TARGETARCH} ${TARGETVARIANT})\\n\" \\\n        && echo -e \"BUILD_END_TIME=$(date +\"%Y-%m-%d %H:%M:%S %s\")\\n\\n\" \\\n    ) | tee -a /VERSION.txt\n\n\nUSER \"$BROWSERUSE_USER\"\nVOLUME \"$DATA_DIR\"\nEXPOSE 9242\nEXPOSE 9222\n\n# HEALTHCHECK --interval=30s --timeout=20s --retries=15 \\\n#     CMD curl --silent 'http://localhost:8000/health/' | grep -q 'OK'\n\nENTRYPOINT [\"browser-use\"]\n",
      ".dockerignore": "docs/\nstatic/\n.claude/\n.github/\n\n# Cache files\n.DS_Store\n__pycache__/\n*.py[cod]\n*$py.class\n.mypy_cache/\n.ruff_cache/\n.pytest_cache/\n.ipynb_checkpoints\n\n# Virtual Environments\n.venv\nvenv/\n\n# Editor cruft\n.vscode/\n.idea/\n\n# Build Files\ndist/\n\n# Data files\n*.gif\n*.txt\n*.pdf\n*.csv\n*.json\n*.jsonl\n*.bak\n\n# Secrets and sensitive files\nsecrets.env\n.env\nbrowser_cookies.json\ncookies.json\ngcp-login.json\nsaved_trajectories/\nAgentHistory.json\nAgentHistoryList.json\nprivate_example.py\nprivate_example\n"
    },
    "docker_setup_descriptions": {
      "Dockerfile": "### Building and Running Docker for `browser-use`\n\nTo build and run the Docker container using the provided `Dockerfile` from the `browser-use` repository, follow these steps:\n\n#### Step 1: Clone the Repository\n```bash\ngit clone https://github.com/browser-use/browser-use.git\ncd browser-use\n```\n\n#### Step 2: Build the Docker Image\n```bash\ndocker build . -t browseruse --no-cache\n```\n- This command builds the Docker image named `browseruse` without using any cached layers, ensuring a fresh build.\n\n#### Step 3: Run the Docker Container\nTo run the container and mount a local directory for data persistence:\n```bash\ndocker run -v \"$PWD/data\":/data browseruse\n```\n- This command mounts the local `data` directory to the `/data` directory in the container.\n\nTo check the version of the `browser-use` application:\n```bash\ndocker run -v \"$PWD/data\":/data browseruse --version\n```\n\n#### Step 4: Multi-Architecture Build (Optional)\nIf you need to build for multiple architectures:\n```bash\ndocker buildx create --use\ndocker buildx build . --platform=linux/amd64,linux/arm64 --push -t browseruse/browseruse:some-tag\n```\n- This command sets up a build environment for multiple architectures and pushes the built image to a specified tag.\n\n### Semantic Meaning of the Dockerfile\nThe `Dockerfile` defines a containerized environment for the `browser-use` application, which automates web tasks for AI agents. Key components include:\n\n- **Base Image**: Starts from `python:3.12-slim`, ensuring a lightweight Python environment.\n- **Labels**: Metadata about the image, including name, maintainer, and documentation links.\n- **Environment Variables**: Configures the container's environment, including timezone, language, and user settings.\n- **User Creation**: Sets up a non-privileged user (`browseruse`) for running the application securely.\n- **Dependency Installation**: Installs necessary system and Python dependencies, including Chromium and Playwright.\n- **Working Directory**: Sets the working directory to `/app`, where the application code resides.\n- **Entrypoint**: Specifies the command to run when the container starts, which is the `browser-use` application.\n\nThis setup ensures that the application runs in a consistent environment, with all dependencies managed and isolated from the host system.",
      ".dockerignore": "### Building and Running Docker with `.dockerignore` in `browser-use`\n\n#### Overview of `.dockerignore`\nThe `.dockerignore` file is used to specify files and directories that should be excluded from the Docker build context. This helps to reduce the size of the context sent to the Docker daemon, speeding up the build process and ensuring sensitive or unnecessary files are not included in the Docker image.\n\n#### Semantic Meaning of the Entries\n1. **Documentation and Static Files**: \n   - `docs/` and `static/` are excluded as they are not needed for the application runtime.\n   \n2. **Development and Configuration Files**:\n   - Directories like `.claude/`, `.github/`, and files like `.vscode/`, `.idea/` are excluded to prevent IDE-specific configurations and project management files from being included.\n\n3. **Cache Files**:\n   - Files and directories such as `.DS_Store`, `__pycache__/`, and various cache directories are excluded to avoid unnecessary bloat in the image.\n\n4. **Virtual Environments**:\n   - Excluding `.venv` and `venv/` ensures that local Python environments do not get packaged into the image.\n\n5. **Editor and Build Artifacts**:\n   - Folders like `dist/` and editor-specific files are ignored to keep the image clean.\n\n6. **Data Files**:\n   - Common data file types (e.g., `.gif`, `.txt`, `.pdf`, etc.) are excluded unless they are essential for the application.\n\n7. **Secrets and Sensitive Files**:\n   - Files like `secrets.env`, `.env`, and other sensitive credentials are explicitly excluded to enhance security.\n\n#### Actionable Steps to Build and Run Docker\n\n1. **Ensure Docker is Installed**: Make sure you have Docker installed on your machine. You can download it from [Docker's official site](https://www.docker.com/get-started).\n\n2. **Navigate to the Project Directory**:\n   ```bash\n   cd path/to/browser-use\n   ```\n\n3. **Build the Docker Image**:\n   Use the following command to build the Docker image, replacing `your-image-name` with your desired image name:\n   ```bash\n   docker build -t your-image-name .\n   ```\n\n4. **Run the Docker Container**:\n   After building the image, you can run it using:\n   ```bash\n   docker run -d your-image-name\n   ```\n\n5. **Verify the Container is Running**:\n   Check the running containers with:\n   ```bash\n   docker ps\n   ```\n\nBy following these steps, you will efficiently build and run your Docker container while ensuring that unnecessary and sensitive files are excluded from the build context."
    }
  },
  "input_to_gpt": {
    "repo_name": "browser-use/browser-use",
    "num_code_blocks": 7,
    "total_length": 992,
    "code_blocks": [
      "uv init",
      "#  We ship every day - use the latest version!\nuv add browser-use\nuv sync",
      "uvx browser-use install",
      "from browser_use import Agent, Browser, ChatBrowserUse\nimport asyncio\n\nasync def example():\n    browser = Browser(\n        # use_cloud=True,  # Uncomment to use a stealth browser on Browser Use Cloud\n    )\n\n    llm = ChatBrowserUse()\n\n    agent = Agent(\n        task=\"Find the number of stars of the browser-use repo\",\n        llm=llm,\n        browser=browser,\n    )\n\n    history = await agent.run()\n    return history\n\nif __name__ == \"__main__\":\n    history = asyncio.run(example())",
      "uvx browser-use init --template default",
      "uvx browser-use init --template default --output my_agent.py",
      "from browser_use.tools import Tool\n\n@Tool()\ndef custom_tool(param: str) -> str:\n    \"\"\"Description of what this tool does.\"\"\"\n    return f\"Result: {param}\"\n\nagent = Agent(\n    task=\"Your task\",\n    llm=llm,\n    browser=browser,\n    use_custom_tools=[custom_tool],\n)"
    ]
  }
}